(this["webpackJsonptext-to-speech"]=this["webpackJsonptext-to-speech"]||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(21),c=a.n(o),i=a(1),l=a(2),u=a(8),s=a(4),d=a(22),p="white",b="#573ede",f="#434449",m="#e4e5e9",g="#6f7077";var O=Object(i.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),x=Object(s.a)(d.a,{target:"e1e125np9"})({animation:"".concat(O," 1s linear infinite")},"");x.defaultProps={"aria-label":"loading"};var h=Object(s.a)("div",{target:"e1e125np8"})(Object(u.a)({display:"flex",flexDirection:"column",maxWidth:"876px",width:"90%",margin:"0 auto"},"@media only screen and (max-width: 499px)",{width:"94%"}),""),j=Object(s.a)("div",{target:"e1e125np7"})({outlineWidth:0,padding:"14px 16px",borderRadius:"3px",transition:"all 0.3s ease-in-out 0s",":hover":{color:f,background:p,boxShadow:"0 10px 25px -10px rgb(0 0 0 / 15%)"}},""),v={default:{},selected:{color:f,background:p,boxShadow:"0 10px 25px -10px rgb(0 0 0 / 15%)",borderLeft:"3px solid ".concat(b)}},y=Object(s.a)("li",{target:"e1e125np6"})("margin-bottom:0.4em;:last-child{margin-bottom:0;}",(function(e){var t=e.variant;return v[void 0===t?"default":t]}),""),S=(Object(s.a)("select",{target:"e1e125np5"})({border:"1px solid ".concat(m),borderRadius:"3px",background:p,padding:"8px 12px",width:"140px",color:f,outline:0,transition:"all 0.3s ease-in-out 0s",":hover":{boxShadow:"0 6px 8px -6px rgb(0 0 0 / 15%)"}},""),Object(s.a)("option",{target:"e1e125np4"})({outline:0,padding:"10px",background:"#fafafa",":hover":{background:p}},""),Object(s.a)("textarea",{target:"e1e125np3"})({border:"1px solid ".concat(m),padding:"14px",borderRadius:"3px",margin:"0 !important",transition:"all 0.3s ease-in-out 0s",":hover":{boxShadow:"0 6px 8px -6px rgb(0 0 0 / 15%)"},":focus-visible":{outline:0}},"")),E={primary:{background:b,color:p,hoverBackground:"#4d36cc",disabledBackground:"#6a5fa0"},secondary:{background:"#f1f2f7",color:f}},w=Object(s.a)("button",{target:"e1e125np2"})("padding:10px 15px;border:0;line-height:1;border-radius:3px;letter-spacing:1px;transition:all 0.3s ease-in-out 0s;",(function(e){var t=e.variant,a=void 0===t?"primary":t;return Object(l.a)(Object(l.a)({},E[a]),{},{":hover":{background:E[a].hoverBackground},":disabled":{background:E[a].disabledBackground}})}),""),T=Object(s.a)("label",{target:"e1e125np1"})({name:"fjpeb7",styles:"margin-bottom:0.6em;font-size:0.825rem"}),R=Object(s.a)("div",{target:"e1e125np0"})({name:"1sfzwn2",styles:"display:flex;flex-direction:column;margin-bottom:.875em"});function L(){return Object(i.a)("div",{css:{fontSize:"4em",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Object(i.a)(x,null))}var A=a.p+"static/media/logo.9d9db4d1.svg",k={banner:{display:"flex",flexDirection:"row",margin:"2rem 0",alignItems:"flex-start",div:{marginLeft:"10px"},h1:{fontSize:"1.4rem"},p:{color:g}}},I=function(){return Object(i.a)("header",null,Object(i.a)("div",{css:k.banner},Object(i.a)("img",{src:A,alt:"App Logo"}),Object(i.a)("div",null,Object(i.a)("h1",null,"Watson Text to Speech Voices"),Object(i.a)("p",null,"Listen to voices across languages and dialects"))))},C={footer:{position:"relative",bottom:"0",marginTop:"2em",textAlign:"center",fontSize:"0.8rem",color:f}},_=function(){return Object(i.a)("footer",{css:C.footer},Object(i.a)("small",null,"Copyright 2021 by Mustafa. No Rights Reserved"))},B=a(7),P={card:{cursor:"pointer",p:{margin:0,textAlign:"justify"}}},z=function(e){var t=e.item;return Object(i.a)(j,null,Object(i.a)("div",{css:P.card},Object(i.a)("p",null,t)))};function H(e){return JSON.parse(window.localStorage.getItem(e))}var D={history:{display:"flex",flexDirection:"column",h3:{color:f,letterSpacing:"1px",fontSize:"1rem",marginBottom:"1em"}},cardList:{color:g,fontSize:"0.9rem",ul:{margin:0,padding:0,listStyle:"none",maxHeight:"64vh",overflowY:"scroll","::-webkit-scrollbar":{display:"none"}},li:{marginBottom:"0.4em",":last-child":{marginBottom:0}}}},U=function(e){var t=e.items,a=e.selected,r=e.handleSelect;return t&&t.length?Object(i.a)("ul",null,t.map((function(e,t){return Object(i.a)(y,{key:t,variant:t===a?"selected":"default",onClick:function(){return r(t,e)}},Object(i.a)(z,{item:(n=e,n.length?n.charAt(0).toUpperCase()+n.slice(1):"")}));var n}))):Object(i.a)("pre",null,"NO HISTORY ITEMS AVAIABLE FOR DISPLAY")},N=function(e){var t=e.items,a=e.onSelect,r=n.a.useState(-1),o=Object(B.a)(r,2),c=o[0],l=o[1];return Object(i.a)("section",{id:"history-section",css:D.history},Object(i.a)("h3",null,"FETCH HISTORY"),Object(i.a)("div",{css:D.cardList},Object(i.a)(U,{items:t,selected:c,handleSelect:function(e,t){l(e),a(t)}})))},Y=a(13),F=a.n(Y),V=a(12),G=a(18),J=["data","headers"],W="https://api.eu-gb.text-to-speech.watson.cloud.ibm.com/instances/6867f281-dc3e-4318-86ea-d4772b408381/v1",M="YXBpa2V5OndzRHRmUW9HeEtscXBBQU5lVU4zc25MQXNBUUF3aUFRblk5b2xDLW1lazhs";function X(){return(X=Object(G.a)(F.a.mark((function e(t){var a,r,n,o,c,i=arguments;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},r=a.data,n=a.headers,o=Object(V.a)(a,J),c=Object(l.a)({method:r?"POST":"GET",body:r?JSON.stringify(r):void 0,headers:Object(l.a)({Authorization:"Basic ".concat(M),"Content-Type":r?"application/json":void 0},n)},o),e.abrupt("return",window.fetch("".concat(W,"/").concat(t),c).then(function(){var e=Object(G.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blob();case 2:if(a=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",a);case 7:return e.abrupt("return",Promise.reject(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q={textToSpeech:{display:"flex",flexDirection:"column",background:p,padding:"1.2em",border:"1px solid ".concat("#f1f1f4"),borderRadius:"3px",boxShadow:"0 6px 2px -6px rgb(0 0 0 / 15%)",h3:{color:b,letterSpacing:"1px",fontSize:"1rem",marginBottom:"1.2em"}},form:{color:f,fontSize:"0.95rem",small:{color:"#ef5350",paddingTop:"1em"},pre:{marginBottom:0}}},q="Maximum text length allowed is 50 characters",K="Please, enter some text to convert to speech";function Z(e){var t=e.onSubmit,a=e.buttonText,r=e.historyText,o=e.isLoading,c=e.apiError,u=e.resetApiError,s=n.a.useState({text:""}),d=Object(B.a)(s,2),p=d[0],b=d[1];return n.a.useEffect((function(){r&&b(Object(l.a)(Object(l.a)({},p),{},{text:r}))}),[r]),Object(i.a)("form",{css:Q.form,onSubmit:function(e){e.preventDefault(),p.text.length?t(p.text.trim().toLowerCase()):b(Object(l.a)(Object(l.a)({},p),{},{error:K}))}},Object(i.a)(R,null,Object(i.a)(T,{htmlFor:"speech-text"},"Use the sample text or enter your own text in English"),Object(i.a)(S,{cols:"40",rows:"5",id:"speech-text",placeholder:"Type some english text here...",value:p.text,onChange:function(e){var t=e.target.value;p.error&&b({text:p.text}),c&&u(),t.length>50?b(Object(l.a)(Object(l.a)({},p),{},{error:q})):b({text:t})}}),p.error||c?Object(i.a)("small",null,Object(i.a)("pre",null,p.error||c.message)):null),Object(i.a)(w,{type:"submit",disabled:o||p.error||c},a),o?Object(i.a)(x,{css:{marginLeft:".5em"}}):null)}var $=function(e){var t=e.handleSubmit,a=e.audioSource,r=e.flag,o=e.historyText,c=e.isLoading,l=e.apiError,u=e.resetApiError,s=n.a.useRef(),d=n.a.useState("PLAY"),p=Object(B.a)(d,2),b=p[0],f=p[1],m=n.a.useRef(a);return n.a.useEffect((function(){var e=s.current;a&&m&&m.current!==a?(m.current=a,e.pause(),e.load(),e.play(),f("PAUSE")):a&&e&&(e.paused&&e.currentTime>0&&!e.ended?(s.current.play(),f("PAUSE")):s.current.paused?(e.load(),e.play(),e.addEventListener("ended",(function(){return f("PLAY")})),f("PAUSE")):(e.pause(),f("PLAY")))}),[a,r]),Object(i.a)("section",{css:Q.textToSpeech},Object(i.a)("h3",null,"TEXT TO SPEECH"),Object(i.a)(Z,{historyText:o,buttonText:b,onSubmit:t,isLoading:c,apiError:l,resetApiError:u}),Object(i.a)("audio",{ref:s},Object(i.a)("source",{src:a}),"Your browser does not support the audio tag."))},ee={main:Object(u.a)({display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"0.75rem"},"@media only screen and (max-width: 799px)",{gridTemplateColumns:"1fr",gridRowGap:"3em","#history-section":{order:2}})},te="__ibm_text_to_speech__",ae={audioSource:null,historyText:"",flag:!1,loading:!1,error:null};function re(e,t){switch(t.type){case"LOADING":return Object(l.a)(Object(l.a)({},e),{},{loading:t.data});case"RESET_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.data});case"FETCH_LOCAL":return Object(l.a)(Object(l.a)({},e),{},{flag:!e.flag,audioSource:t.data});case"FETCH_API":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,audioSource:t.data});case"API_ERROR":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.data});case"HISTORY_SELECTION":return Object(l.a)(Object(l.a)({},e),{},{historyText:t.data.text,audioSource:t.data.source});default:throw new Error("Not supported action type ".concat(t.type))}}var ne=function(){var e=n.a.useReducer(re,ae),t=Object(B.a)(e,2),a=t[0],r=t[1];var o=Object.keys(H(te)||{});return Object(i.a)("main",{css:ee.main},Object(i.a)(N,{onSelect:function(e){var t={source:H(te)[e],text:e};r({type:"HISTORY_SELECTION",data:t})},items:o}),Object(i.a)($,{flag:a.flag,historyText:a.historyText,audioSource:a.audioSource,handleSubmit:function(e){var t=H(te);t&&t[e]?r({type:"FETCH_LOCAL",data:t[e]}):(r({type:"LOADING",data:!0}),function(e){return X.apply(this,arguments)}("synthesize",{data:{text:e}}).then((function(a){var n=new FileReader;n.addEventListener("loadend",(function(){var a,o,c=t||{};c[e]=n.result,a=te,o=c,window.localStorage.setItem(a,JSON.stringify(o)),r({type:"FETCH_API",data:n.result})})),n.readAsDataURL(a)})).catch((function(e){var t=new Error("There was an error, please try again");r({type:"API_ERROR",data:t})})))},isLoading:a.loading,apiError:a.error,resetApiError:function(){r({type:"RESET_ERROR",data:!1})}}))},oe=a(19),ce=a.n(oe),ie=(a(35),["value","defaultValue","inputRef"]),le=["defaultValue","value"],ue=function(e){e.value;var t=e.defaultValue,a=e.inputRef,r=Object(V.a)(e,ie);return n.a.createElement("input",Object.assign({},r,{defaultValue:t,ref:a}))};function se(){return n.a.createElement(ce.a,{render:function(e,t){var a=e.defaultValue;e.value,Object(V.a)(e,le);return n.a.createElement(ue,{defaultValue:a,inputRef:t})}})}var de=function(){return n.a.createElement(ce.a,{options:{minDate:"2017-01-01"}})};var pe=function(){return Object(i.a)(h,null,Object(i.a)(I,null),Object(i.a)(ne,null),Object(i.a)(se,null),Object(i.a)(de,null),Object(i.a)(_,null))};a(36),a(37);c.a.render(n.a.createElement(n.a.Suspense,{fallback:n.a.createElement(L,null)},n.a.createElement(pe,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.32d8024d.chunk.js.map